{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/Button/Button.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchPictureName","onInputChange","event","setState","currentTarget","value","toLowerCase","onFormSubmit","preventDefault","trim","toast","props","onSubmit","className","styles","SearchForm","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGallery","children","ImageGalleryItem","largeImageURL","tags","webformatURL","onPictureClick","src","url","alt","ImageGalleryItem_image","onClick","modalRoot","document","querySelector","Modal","handleKeydown","e","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","Button","scrollTo","top","documentElement","scrollHeight","behavior","onFetchImages","App","pictures","currentPage","error","loading","modal","modalUrl","modalAlt","currentPageImages","searchPicture","toggleModal","getAttribute","fetchImages","currentName","fetch","then","response","json","hits","length","Promise","reject","Error","prevState","catch","finally","prevProps","shouldRenderLoadMoreButton","message","color","height","width","timeout","map","id","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,uBAAyB,mD,mBCAzGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,0KC6CZC,E,4MAzCbC,MAAQ,CACNC,kBAAmB,I,EAErBC,cAAgB,SAACC,GACf,EAAKC,SAAS,CACZH,kBAAmBE,EAAME,cAAcC,MAAMC,iB,EAGjDC,aAAe,SAACL,GAEd,GADAA,EAAMM,iBACsC,KAAxC,EAAKT,MAAMC,kBAAkBS,OAC/B,OAAOC,YAAM,kHAEf,EAAKC,MAAMC,SAAS,EAAKb,MAAMC,mBAC/B,EAAKG,SAAS,CAAEH,kBAAmB,M,4CAErC,WACE,OACE,wBAAQa,UAAWC,IAAOhB,UAA1B,SACE,uBAAMe,UAAWC,IAAOC,WAAYH,SAAUI,KAAKT,aAAnD,UACE,wBAAQU,KAAK,SAASJ,UAAWC,IAAOI,kBAAxC,SACE,sBAAML,UAAWC,IAAOK,wBAAxB,sBAGF,uBACEN,UAAWC,IAAOM,iBAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZlB,MAAOW,KAAKjB,MAAMC,kBAClBwB,SAAUR,KAAKf,yB,GAhCHwB,a,iBCATC,EAHM,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACnB,oBAAId,UAAWC,IAAOY,aAAtB,SAAqCC,K,iBCyBxBC,EAzBU,SAAC,GAMnB,IALLC,EAKI,EALJA,cACAC,EAII,EAJJA,KACAC,EAGI,EAHJA,aAEAC,EACI,EADJA,eAEA,OACE,oBAAInB,UAAWC,IAAOc,iBAAtB,SACE,qBACEK,IAAKF,EACLG,IAAKL,EACLM,IAAKL,EACLjB,UAAWC,IAAOsB,uBAClBC,QAASL,O,iBCZXM,EAAYC,SAASC,cAAc,eAiC1BC,E,4MAxBbC,cAAgB,SAACC,GACA,WAAXA,EAAEC,MACJ,EAAKjC,MAAMkC,W,EAGfC,mBAAqB,SAACH,GAChBA,EAAEvC,gBAAkBuC,EAAEI,QACxB,EAAKpC,MAAMkC,W,uDAdf,WACEG,OAAOC,iBAAiB,UAAWjC,KAAK0B,iB,kCAE1C,WACEM,OAAOE,oBAAoB,UAAWlC,KAAK0B,iB,oBAa7C,WACE,MAAqB1B,KAAKL,MAAlBsB,EAAR,EAAQA,IAAKE,EAAb,EAAaA,IACb,OAAOgB,uBACL,qBAAKtC,UAAWC,IAAOsC,QAASf,QAASrB,KAAK8B,mBAA9C,SACE,sBAAKjC,UAAWC,IAAO2B,MAAvB,UACG,IACD,qBAAKR,IAAKA,EAAKE,IAAKA,SAGxBG,O,GA3Bcb,a,iBCoBL4B,E,uKArBb,WACEL,OAAOM,SAAS,CACdC,IAAKhB,SAASiB,gBAAgBC,aAC9BC,SAAU,a,oBAGd,WACE,OACE,wBACEzC,KAAK,SACLJ,UAAWC,IAAOuC,OAClBhB,QAASrB,KAAKL,MAAMgD,cAHtB,2B,GATelC,a,+BC8INmC,E,4MAtIb7D,MAAQ,CACN8D,SAAU,GACV7D,kBAAmB,GACnB8D,YAAa,EACbC,MAAO,KACPC,SAAS,EACTC,OAAO,EACPC,SAAU,GACVC,SAAU,GACVC,kBAAmB,I,EAGrB7D,aAAe,SAAC8D,GACd,EAAKlE,SAAS,CACZH,kBAAmBqE,EACjBP,YAAa,EACfD,SAAU,M,EAGdS,YAAc,WACZ,EAAKnE,UAAS,kBAAgB,CAC5B8D,OADY,EAAGA,W,EAInBjC,eAAiB,SAACW,GAChB,EAAKxC,SAAS,CACZ+D,SAAUvB,EAAEvC,cAAcmE,aAAa,OACvCJ,SAAUxB,EAAEvC,cAAcmE,aAAa,SAEzC,EAAKD,e,EAWPE,YAAc,WACZ,IAAMC,EAAc,EAAK1E,MAAMC,kBACzB8D,EAAc,EAAK/D,MAAM+D,YACzB5B,EAAG,6EAAyEuC,EAAzE,iBAA6FX,EAA7F,uDAET,EAAK3D,SAAS,CAAE6D,SAAS,EAAOD,MAAO,OACvCW,MAAMxC,GACHyC,MAAK,SAACC,GACL,OAAOA,EAASC,UAEjBF,MAAK,YAAe,IAAZG,EAAW,EAAXA,KACP,OAAoB,IAAhBA,EAAKC,OACAD,EAEFE,QAAQC,OAAO,IAAIC,MAAM,8BAEjCP,MAAK,SAACd,GAAD,OACJ,EAAK1D,UAAS,SAACgF,GAAD,MAAgB,CAC5BtB,SAAS,GAAD,mBAAMsB,EAAUtB,UAAhB,YAA6BA,IACrCC,YAAaqB,EAAUrB,YAAc,EACrCM,kBAAkB,YAAKP,UAM1BuB,OAAM,SAACrB,GACN,EAAK5D,SAAS,CAAE4D,aAEjBsB,SAAQ,kBAAM,EAAKlF,SAAS,CAAE6D,SAAS,Q,wDArC5C,SAAmBsB,EAAWH,GAC5B,IAAMV,EAAczD,KAAKjB,MAAMC,kBACdmF,EAAUnF,oBACVyE,GACfzD,KAAKwD,gB,oBAsCT,WAAU,IAAD,OACP,EAQIxD,KAAKjB,MAPP8D,EADF,EACEA,SACAG,EAFF,EAEEA,QACAD,EAHF,EAGEA,MACAE,EAJF,EAIEA,MACAC,EALF,EAKEA,SACAC,EANF,EAMEA,SAGIoB,IATN,EAOEnB,kBAGoBW,OAAS,MAAQf,EACvC,OACE,qCACE,cAAC,EAAD,CAAWpD,SAAUI,KAAKT,eACzBwD,GAAS,4BAAIA,EAAMyB,UACnBxB,GACC,cAAC,IAAD,CACE/C,KAAK,OACLwE,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,MAIb,cAAC,EAAD,UACG/B,EAASgC,KAAI,gBAAGhE,EAAH,EAAGA,cAAeC,EAAlB,EAAkBA,KAAMC,EAAxB,EAAwBA,aAAc+D,EAAtC,EAAsCA,GAAtC,OACZ,cAAC,EAAD,CACEjE,cAAeA,EACfC,KAAMA,EACNC,aAAcA,EAEdC,eAAgB,EAAKA,gBADhB8D,QAKV7B,GACC,cAAC,EAAD,CAAOhC,IAAKiC,EAAU/B,IAAKgC,EAAUtB,QAAS7B,KAAKsD,cAGpDiB,IAA+BxB,GAC9B,cAAC,EAAD,CAAQJ,cAAe3C,KAAKwD,cAG9B,cAAC,IAAD,CACEuB,SAAS,aACTC,UAAW,IACXC,iBAAiB,EACjBC,aAAa,EACbC,cAAc,EACdC,KAAK,EACLC,kBAAgB,EAChBC,WAAS,EACTC,cAAY,W,GAjIJ9E,aCJlB+E,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFnE,SAASoE,eAAe,U,kBCT1B/G,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,kBAAoB,qCAAqC,wBAA0B,2CAA2C,iBAAmB,uC","file":"static/js/main.1af74ac8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3Mtiy\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__2pCtx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2iPYS\",\"Modal\":\"Modal_Modal__26szI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1-Fqd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2f9Uu\"};","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Searchbar.module.css\";\r\nimport { toast } from \"react-toastify\";\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchPictureName: \"\",\r\n  };\r\n  onInputChange = (event) => {\r\n    this.setState({\r\n      searchPictureName: event.currentTarget.value.toLowerCase(),\r\n    });\r\n  };\r\n  onFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (this.state.searchPictureName.trim() === \"\") {\r\n      return toast(\"Введите имя картинки\");\r\n    }\r\n    this.props.onSubmit(this.state.searchPictureName);\r\n    this.setState({ searchPictureName: \"\" });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.onFormSubmit}>\r\n          <button type=\"submit\" className={styles.SearchForm_button}>\r\n            <span className={styles.SearchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchForm_input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.searchPictureName}\r\n            onChange={this.onInputChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\nexport default Searchbar;\r\n","import styles from \"./ImageGallery.module.css\";\r\nconst ImageGallery = ({ children }) => (\r\n  <ul className={styles.ImageGallery}>{children}</ul>\r\n);\r\nexport default ImageGallery;\r\n","import PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\nconst ImageGalleryItem = ({\r\n  largeImageURL,\r\n  tags,\r\n  webformatURL,\r\n\r\n  onPictureClick,\r\n}) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        url={largeImageURL}\r\n        alt={tags}\r\n        className={styles.ImageGalleryItem_image}\r\n        onClick={onPictureClick}\r\n      />\r\n    </li>\r\n  );\r\n};\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  onPictureClick: PropTypes.func.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n};\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nimport { createPortal } from \"react-dom\";\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeydown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleOverlayClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    const { src, alt } = this.props;\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleOverlayClick}>\r\n        <div className={styles.Modal}>\r\n          {\" \"}\r\n          <img src={src} alt={alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\nimport React, { Component } from \"react\";\r\nclass Button extends Component {\r\n  componentDidMount() {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={styles.Button}\r\n        onClick={this.props.onFetchImages}\r\n      >\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport Searchbar from \"./components/Searchbar/Searchbar\";\r\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\r\nimport ImageGalleryItem from \"./components/ImageGalleryItem/ImageGalleryItem\";\r\nimport Modal from \"./components/Modal/Modal\";\r\nimport Button from \"./components/Button/Button\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nclass App extends Component {\r\n  state = {\r\n    pictures: [],\r\n    searchPictureName: \"\",\r\n    currentPage: 1,\r\n    error: null,\r\n    loading: false,\r\n    modal: false,\r\n    modalUrl: \"\",\r\n    modalAlt: \"\",\r\n    currentPageImages: \"\",\r\n  };\r\n\r\n  onFormSubmit = (searchPicture) => {\r\n    this.setState({\r\n      searchPictureName: searchPicture,\r\n        currentPage: 1,\r\n      pictures: [],\r\n    });\r\n  };\r\n  toggleModal = () => {\r\n    this.setState(({ modal }) => ({\r\n      modal: !modal,\r\n    }));\r\n  };\r\n  onPictureClick = (e) => {\r\n    this.setState({\r\n      modalUrl: e.currentTarget.getAttribute(\"url\"),\r\n      modalAlt: e.currentTarget.getAttribute(\"alt\"),\r\n    });\r\n    this.toggleModal();\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const currentName = this.state.searchPictureName;\r\n    const prevName = prevState.searchPictureName;\r\n    if (prevName !== currentName) {\r\n      this.fetchImages();\r\n      }\r\n      \r\n  }\r\n  fetchImages = () => {\r\n    const currentName = this.state.searchPictureName;\r\n    const currentPage = this.state.currentPage;\r\n    const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${currentName}&page=${currentPage}&per_page=12&key=21861129-b5e52c4cca63d1835e3548bf1`;\r\n\r\n    this.setState({ loading: true,  error: null });\r\n    fetch(url)\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then(({ hits }) => {\r\n        if (hits.length !== 0) {\r\n          return hits;\r\n        }\r\n        return Promise.reject(new Error(\"No such pictures found\"));\r\n      })\r\n      .then((pictures) =>\r\n        this.setState((prevState) => ({\r\n          pictures: [...prevState.pictures, ...pictures],\r\n          currentPage: prevState.currentPage + 1,\r\n          currentPageImages: [...pictures],\r\n        }))\r\n      )\r\n\r\n     \r\n\r\n      .catch((error) => {\r\n        this.setState({ error });\r\n      })\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n \r\n\r\n  render() {\r\n    const {\r\n      pictures,\r\n      loading,\r\n      error,\r\n      modal,\r\n      modalUrl,\r\n      modalAlt,\r\n      currentPageImages,\r\n    } = this.state;\r\n    const shouldRenderLoadMoreButton =\r\n      !(currentPageImages.length < 12) && !loading;\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.onFormSubmit} />\r\n        {error && <p>{error.message}</p>}\r\n        {loading && (\r\n          <Loader\r\n            type=\"Puff\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000}\r\n          />\r\n        )}\r\n\r\n        <ImageGallery>\r\n          {pictures.map(({ largeImageURL, tags, webformatURL, id }) => (\r\n            <ImageGalleryItem\r\n              largeImageURL={largeImageURL}\r\n              tags={tags}\r\n              webformatURL={webformatURL}\r\n              key={id}\r\n              onPictureClick={this.onPictureClick}\r\n            />\r\n          ))}\r\n        </ImageGallery>\r\n        {modal && (\r\n          <Modal src={modalUrl} alt={modalAlt} onClose={this.toggleModal} />\r\n          \r\n        )}\r\n        {shouldRenderLoadMoreButton && !error && (\r\n          <Button onFetchImages={this.fetchImages} />\r\n        )}\r\n\r\n        <ToastContainer\r\n          position=\"top-center\"\r\n          autoClose={2000}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick={false}\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1pZ79\",\"SearchForm\":\"Searchbar_SearchForm__Wl2OV\",\"SearchForm_button\":\"Searchbar_SearchForm_button__3u6U2\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__2LnjY\",\"SearchForm_input\":\"Searchbar_SearchForm_input__1ENGj\"};"],"sourceRoot":""}